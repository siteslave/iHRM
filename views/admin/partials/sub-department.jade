md-toolbar.md-whiteframe-z2
  div.md-toolbar-tools
    i.material-icons perm_media
    h2
      | &nbsp; หน่วยงานย่อย

    //- span(flex)
    //- md-button.md-icon-button(aria-label="Add", ng-click="addNew()")
    //-   md-icon.material-icons add

md-progress-linear(md-mode="indeterminate", ng-show="showLoading")
md-button.md-fab.md-fab-bottom-right(aria-label="Add", ng-click="addNew()")
  md-icon.material.icons add
md-card
  md-card-content
    //- span.md-headline หน่วยงานย่อย

    div(layout="row", layout-fill)
      div(flex)
      div(flex="30")
        md-input-container.md-block(flex-gt-sm)
            label หน่วยงานหลัก
            md-select(ng-model="mainDepId", ng-change="getSubDepartment()")
              md-option(ng-repeat="dep in mainDeps", value="{{dep.id}}")
                {{dep.name}}
    md-table-container
      table(md-table)
        thead(md-head)
          tr(md-row)
            th(md-column, md-numeric) #
            th(md-column) หน่วยงานย่อย
            th(md-column) หน่วยงานหลัก
            th(md-column)
        tbody(md-body)
          tr(md-row, ng-if="!departments.length")
            td(md-cell, colspan="4") ไม่พบรายการ
          tr(md-row, ng-repeat="d in departments")
            td(md-cell) {{ $index + 1 }}
            td(md-cell) {{ d.sub_name }}
            td(md-cell) {{ d.main_name }}
            td(md-cell)
              md-button.md-icon-button(aria-label="More", ng-click="edit($event, d)")
                md-icon.material-icons create
              md-button.md-icon-button(aria-label="Remove", ng-click="remove(d)")
                md-icon.material-icons delete_sweep
